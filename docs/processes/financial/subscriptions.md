# Система абонементов

## Общее описание
Система абонементов Atlantis позволяет управлять доступом студентов к услугам студии. Абонементы привязываются к конкретным студентам и активируются после оплаты соответствующего инвойса.

## Типы абонементов

### По времени действия
- Месячные абонементы
- Квартальные абонементы
- Годовые абонементы
- Специальные периоды

### По количеству занятий
- Фиксированное число занятий
- Безлимитные абонементы
- Комбинированные варианты

## Жизненный цикл абонемента

### Создание
1. Выбор студента
2. Выбор типа абонемента
3. Создание инвойса
4. Ожидание оплаты

### Активация
- Автоматическая после оплаты инвойса
- Установка даты начала
- Расчет даты окончания
- Настройка ограничений

### Использование
- Учет посещений
- Отслеживание остатка занятий
- Контроль срока действия
- История использования

### Завершение
- По истечении срока
- По использованию всех занятий
- При отмене администратором
- Архивация данных

## Правила и ограничения

### Создание абонементов
- Только после создания студента
- Требует привязки к клиенту
- Проверка наличия активных абонементов
- Валидация параметров

### Использование
- Проверка активности абонемента
- Учет каждого посещения
- Контроль ограничений
- Уведомления о завершении

### Продление и изменение
- Доступно только админам
- Создание нового инвойса
- Сохранение истории изменений
- Перенос остатка занятий

## Технические аспекты
- Интеграция с системой расписания
- Автоматический учет посещений
- Система уведомлений
- Формирование отчетности 